<!DOCTYPE html>
<html>
<head>
    <title>Test 20</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .question {
            margin-bottom: 15px;
        }
        .options {
            margin-left: 20px;
        }
        .correct {
            color: green;
            font-weight: bold;
        }
        .incorrect {
            color: red;
            font-weight: bold;
        }
        .correct-answer {
            color: blue;
            font-weight: bold;
        }
        button {
            margin-top: 20px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <h2>Medical Quiz</h2>

    <div id="quiz"></div>

    <button onclick="submitQuiz()">Submit Quiz</button>
    <h3 id="result"></h3>

    <script>
        const questions = [
            {
                text: "A patient can become toxic on a normal dose of digitalis when ________ is present.",
                options: ["Hyperkalemia", "Hypertension", "Hypokalemia", "Hypotension"],
                answer: "Hypokalemia"
            },
            {
                text: "If the activities done by people are repeated by a patient, it is called?",
                options: ["Echolalia", "Hyperactivity", "Compulsion", "Echopraxia"],
                answer: "Echopraxia"
            },
            {
                text: "The most important cause of diarrhea in infants and children is:",
                options: ["Escherichia coli", "Rota virus", "Salmonella", "Vibrio cholerae"],
                answer: "Rota virus"
            },
            {
                text: "Bagassosis is caused by inhalation of:",
                options: ["Sugar-cane dust", "Cotton dust", "Coal dust", "Silica dust"],
                answer: "Sugar-cane dust"
            },
            {
                text: "Normal PR interval in ECG is:",
                options: ["0.20 - 0.35 sec", "0.30 - 0.45 sec", "0.35 - 0.40 sec", "0.12 - 0.20 sec"],
                answer: "0.12 - 0.20 sec"
            },
            {
                text: "The antidote to warfarin is:",
                options: ["Heparin", "Vitamin K", "Vitamin B12", "Iron"],
                answer: "Vitamin K"
            },
            {
                text: "What is the normal CSF pressure when the individual is lying on his side?",
                options: ["15 cm H2O", "20 cm H2O", "10 cm H2O", "25 cm H2O"],
                answer: "10 cm H2O"
            },
          
           {
        text: "Immunization of DPT should be administered by:",
        options: ["Intradermal", "Intramuscular", "Subcutaneous", "Intravenous"],
        answer: "Intramuscular"
    },
    {
        text: "Which among the following drugs is used in the treatment of alcohol dependence?",
        options: ["Disulfiram", "Lithium", "Carbamazepine", "Verapamil"],
        answer: "Disulfiram"
    },
    {
        text: "Insertion of a needle into the pleural cavity is:",
        options: ["Endoscopy", "Paracentesis", "Thoracentesis", "Evisceration"],
        answer: "Thoracentesis"
    }

        ];

        function loadQuiz() {
            let quizContainer = document.getElementById("quiz");
            quizContainer.innerHTML = "";
            questions.forEach((q, index) => {
                let questionDiv = document.createElement("div");
                questionDiv.classList.add("question");
                questionDiv.innerHTML = `<strong>Q${index + 1}: ${q.text}</strong>`;
                
                let optionsDiv = document.createElement("div");
                optionsDiv.classList.add("options");

                q.options.forEach(option => {
                    let optionInput = document.createElement("input");
                    optionInput.type = "radio";
                    optionInput.name = `q${index}`;
                    optionInput.value = option;
                    optionInput.onclick = () => clearFeedback(index);

                    let optionLabel = document.createElement("label");
                    optionLabel.innerHTML = option;

                    optionsDiv.appendChild(optionInput);
                    optionsDiv.appendChild(optionLabel);
                    optionsDiv.appendChild(document.createElement("br"));
                });

                questionDiv.appendChild(optionsDiv);
                quizContainer.appendChild(questionDiv);
            });
        }

        function clearFeedback(index) {
            document.querySelectorAll(`input[name="q${index}"] + label`).forEach(label => {
                label.innerHTML = label.innerHTML.replace(" ✅", "").replace(" ❌", "");
                label.style.color = "black";
            });
        }

        function submitQuiz() {
            let score = 0;

            questions.forEach((q, index) => {
                let selectedOption = document.querySelector(`input[name="q${index}"]:checked`);
                let selectedValue = selectedOption ? selectedOption.value : null;

                if (selectedValue) {
                    let correctness = selectedValue === q.answer ? "correct" : "incorrect";
                    let symbol = correctness === "correct" ? " ✅" : " ❌";
                    let highlightColor = correctness === "correct" ? "green" : "red";

                    document.querySelectorAll(`input[name="q${index}"] + label`).forEach(label => {
                        if (label.innerText.includes(selectedValue)) {
                            label.innerHTML += symbol;
                            label.style.color = highlightColor;
                        }
                    });

                    if (correctness === "incorrect") {
                        document.querySelectorAll(`input[name="q${index}"] + label`).forEach(label => {
                            if (label.innerText.includes(q.answer)) {
                                label.innerHTML += " ✅";  
                                label.style.color = "blue"; 
                            }
                        });
                    }

                    if (correctness === "correct") {
                        score++;
                    }
                }
            });

            document.getElementById("result").innerText = `Your Score: ${score}/${questions.length}`;

            // Hide quiz content after submission (expires in 5 seconds)
            setTimeout(() => {
                document.body.innerHTML = "<h2 style='color: red; text-align: center;'>This Quiz Has Expired!</h2>";
            }, 5000);
        }

        window.onload = loadQuiz;
    </script>

</body>
</html>
